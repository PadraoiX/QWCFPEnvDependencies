<HTML xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/templates/template-barcelona.xhtml">
	<ui:define name="conteudo">

		<style>
.iconarea {
	background-image: url("/resources/images/iconAreaOn.png");
}

.ui-datatable tbody td.wrap {
    white-space: normal;
}
</style>
	<p:panel id="panel" styleClass="card card-w-title sombraPanel" >
		<h1>Privilégios  - QWCFP</h1>

		<p:tabView id="tabViewdesk" dynamic="true" cache="true">

			<p:tab title="Áreas"  >
				<p:dataTable id="listAP" var="car" reflow="true"
					value="#{listPrivilegio.privArea}" rows="10" paginator="true"
					emptyMessage="Não tem privilégio para Áreas!"
					rowsPerPageTemplate="10,15,20,25,50,100" 
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {JumpToPageDropdown} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					currentPageReportTemplate="(Pág. {currentPage}/{totalPages})"
					paginatorPosition="bottom">

					<p:column style="font-weight: bold"  headerText="Nome"  sortFunction="#{listPrivilegio.sortIdByStringArea}" sortBy="#{car.areaIdFk}" >
						<h:outputText value="#{car.areaIdFk}"  converter="#{areaConverter}" style="font-weight: normal" />
					</p:column>

					<p:column headerText="Privilégio"
						style="font-weight: bold;">
						<h:outputText value="#{car.privTypeId}" converter="#{converterDomain}"  style="font-weight: normal" />
					</p:column>

					<p:column headerText="Data Expiração" style="font-weight: bold">
						<h:outputText value="#{car.expDate}" converter="converteData"
							style="font-weight: normal" />
					</p:column>

				</p:dataTable>
			</p:tab>
			

			<p:tab title="Grupos"  >
				<p:dataTable id="listGP" var="car"
					value="#{listPrivilegio.privGroup}" rows="10" paginator="true"
					emptyMessage="Não tem privilégio para Grupos!"
					rowsPerPageTemplate="10,15,20,25,50,100" 
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {JumpToPageDropdown} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					currentPageReportTemplate="(Pág. {currentPage}/{totalPages})"
					paginatorPosition="bottom">

					<p:column style="font-weight: bold"  headerText="Nome" sortFunction="#{listPrivilegio.sortIdByStringGroup}" sortBy="#{car.infoGrpId}"   >
						<h:outputText value="#{car.infoGrpId}"  converter="#{groupConverter}" style="font-weight: normal" />
					</p:column>

					<p:column headerText="Privilégio"
						style="font-weight: bold;">
						<h:outputText value="#{car.privTypeId}" converter="#{converterDomain}"  style="font-weight: normal" />
					</p:column>

					<p:column headerText="Data Expiração" style="font-weight: bold">
						<h:outputText value="#{car.expDate}" converter="converteData"
							style="font-weight: normal" />
					</p:column>

				</p:dataTable>
			</p:tab>

					

		</p:tabView>
		</p:panel>

		<script type="text/javascript">
			    function handleDialogSubmit(args, dialogName) {
			        if (!args.validationFailed) {
			            PF(dialogName).hide();
			        }
			    }
		</script>
		
	</ui:define>
</ui:composition>
</HTML>




